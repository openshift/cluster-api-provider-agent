{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "timezone": "America/New_York",
    "commitMessagePrefix": "NO-ISSUE: ",
    "prHourlyLimit": 0,
    "prConcurrentLimit": 20,
    "vulnerabilityAlerts": {
      "enabled": true
    },
    "dockerfile": {
      "fileMatch": ["Dockerfile.rhtap"],
      "ignorePaths": ["**/Dockerfile"],
      "pinDigests": true
    },
    "customManagers": [
        {
            "customType": "regex",
            "managerFilePatterns": [
                "/^Dockerfile$/",
                "/^Dockerfile\\.rhtap$/"
            ],
            "matchStrings": [
                "FROM registry.access.redhat.com/ubi9/ubi-minimal:(?<currentValue>[^@]+)@(?<currentDigest>sha256:[a-f0-9]+)\\n"
            ],
            "depNameTemplate": "registry.access.redhat.com/ubi9/ubi-minimal",
            "datasourceTemplate": "docker"
        }
    ],
    "enabledManagers": [
        "gomod",
        "dockerfile",
        "custom.regex"
    ],
    "gomod": {
      "packageRules": [
        {
          "matchDepTypes": [
            "indirect"
          ],
          "enabled": false
        },
        {
          "matchBaseBranches": [
            "release-ocm-2.11",
            "release-ocm-2.12",
            "release-ocm-2.13",
            "release-ocm-2.14",
            "release-ocm-2.15",
            "release-ocm-2.16"
          ],
          "matchManagers": [
            "gomod"
          ],
          "enabled": false
        }
      ]
    },
    "packageRules": [
      {
        "matchManagers": ["gomod"],
        "matchDepTypes": ["indirect"],
        "enabled": false
      },
      {
        "matchManagers": ["gomod"],
        "matchBaseBranches": ["master"],
        "enabled": true
      },
      {
        "matchManagers": ["gomod"],
        "matchBaseBranches": [
            "release-ocm-2.11",
            "release-ocm-2.12",
            "release-ocm-2.13",
            "release-ocm-2.14",
            "release-ocm-2.15",
            "release-ocm-2.16"
        ],
        "enabled": false
      },
      {
        "matchPackageNames": [
            "registry.access.redhat.com/ubi9/ubi-minimal"
        ],
        "groupName": "UBI Runtime Images",
        "addLabels": [
            "ubi"
        ]
      },
      {
        "matchUpdateTypes": [
            "major"
        ],
        "matchDatasources": [
            "docker"
        ],
        "matchPackageNames": [
            "registry.access.redhat.com/ubi9/ubi-minimal"
        ],
        "enabled": false
      }
    ],
    "postUpdateOptions": [
      "gomodTidy", "gomodVendor"
    ]
}
